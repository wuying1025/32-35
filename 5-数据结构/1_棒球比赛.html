<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    function fn(arr){
        let score = [];
        let pre1;
        let pre2;
        arr.forEach(item=>{
            switch (item){
                case "C":
                    score.pop();
                    break;
                case "D":
                    pre1 = score.pop();
                    score.push(pre1,pre1*2);
                    break;
                case "+":
                    pre1 = score.pop();
                    pre2 = score.pop();
                    score.push(pre2,pre1,pre1+pre2);
                    break;
                default:
                    score.push(item*1);
            }
        });
        return score.reduce((total,item)=>total+item);
    }
    console.log(fn(["5","2","C","D","+"]));

</script>
</body>
</html>