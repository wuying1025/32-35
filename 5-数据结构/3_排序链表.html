<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    class Node{
        constructor(val){
            this.val = val;
            this.next = null;
        }
    }
    class NodeList{
        constructor(arr){
            let head = new Node(arr[0]);
            let n = head;
            for(let i=1;i<arr.length;i++){
                n.next = new Node(arr[i]);
                n = n.next;
            }
            return head;
        }
    }

    function exchange(p,q){
        let temp = q.val;
        q.val = p.val;
        p.val = temp;
    }
    //找到基准值的位置
    function pos(begin,end){
        let v= begin;
        let p = begin;
        let q = begin.next;
        while(q != end){
            if(q.val < v.val){
                exchange(p.next,q);
                p = p.next;
            }
            q = q.next;
        }
        exchange(begin,p);
        return p;
    }

    function sort(begin,end){
        if(begin != end){
            let xx = pos(begin,end);
            sort(begin,xx);
            sort(xx.next,end);
        }
    }

    let head = new NodeList([4,2,1,3]);
    sort(head);
    let res = [];
    while (head){
        res.push(head.val);
        head = head.next;
    }
    console.log(res);

//    v

//    p q

//    3 5 4 7 8 10 9

//        q > v      q++
//        q < v     p.next <=> q  p++  q++
//
//        v <=>  p.next

//    let res = [];
//    while (head){
//        res.push(head.val);
//        head = head.next;
//    }
//    console.log(res);


</script>
</body>
</html>